ğŸ¥ ChatConnect - Video Meeting Application
A full-stack real-time video conferencing application built with Django REST Framework, Django Channels, and React. Features include JWT authentication, WebRTC peer-to-peer video calling, WebSocket signaling, and real-time room management.

ğŸ“‹ Table of Contents

Features
Tech Stack
Architecture
Setup Instructions
Running the Application
API Documentation
Testing
Project Structure
Environment Variables
Troubleshooting


âœ¨ Features
Backend (Django)

âœ… User registration with email and password validation
âœ… JWT-based authentication (access & refresh tokens)
âœ… Token blacklisting on logout
âœ… WebSocket support via Django Channels for real-time signaling
âœ… Room creation and management APIs
âœ… Redis-backed channel layer for WebSocket communication
âœ… Comprehensive test coverage with pytest

Frontend (React)

âœ… User registration and login with client-side validation
âœ… Toast notifications for user feedback (success/error messages)
âœ… JWT token auto-refresh using Axios interceptors
âœ… WebRTC peer-to-peer video calling
âœ… Real-time WebSocket signaling for offer/answer/ICE candidates
âœ… Room creation and joining interface
âœ… Responsive UI with Tailwind CSS
âœ… Redux Toolkit for state management


ğŸ› ï¸ Tech Stack
LayerTechnologiesFrontendReact 18, Redux Toolkit, Axios, React Toastify, Tailwind CSSBackendDjango 5.2, Django REST Framework, Simple JWTWebSocketDjango Channels, Channels RedisVideoWebRTC (peer-to-peer)DatabaseSQLite (development) / PostgreSQL (production)Testingpytest, pytest-django, pytest-asyncioDevOpsRedis (Channel Layer), Daphne (ASGI server)

ğŸ—ï¸ Architecture
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React     â”‚  HTTP   â”‚   Django     â”‚  Redis  â”‚   WebSocket â”‚
â”‚   Frontend  â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Backend    â”‚â—„â”€â”€â”€â”€â”€â”€â”€â–ºâ”‚   Consumer  â”‚
â”‚             â”‚  JWT    â”‚   (REST API) â”‚ Channelsâ”‚             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                                  â”‚
       â”‚                  WebRTC (P2P)                   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           Signaling via WebSocket (offer/answer/ICE)

ğŸš€ Setup Instructions
Prerequisites

Python 3.10+
Node.js 18+
Redis server
Git

1ï¸âƒ£ Clone the Repository
bashgit clone <your-repo-url>
cd chatconnect
2ï¸âƒ£ Backend Setup
bashcd backend

# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Run migrations
python manage.py migrate

# Create superuser (optional)
python manage.py createsuperuser

# Start Redis (required for Channels)
# On macOS: brew services start redis
# On Ubuntu: sudo service redis-server start
# On Windows: Install Redis from https://github.com/microsoftarchive/redis/releases
3ï¸âƒ£ Frontend Setup
bashcd frontend

# Install dependencies
npm install

# Create .env file
cat > .env << EOL
VITE_API_URL=http://localhost:8000/api
VITE_WS_URL=ws://localhost:8000
EOL

â–¶ï¸ Running the Application
Start Backend (Terminal 1)
bashcd backend
source venv/bin/activate
python manage.py runserver
Backend will run at: http://localhost:8000
Start Frontend (Terminal 2)
bashcd frontend
npm run dev
Frontend will run at: http://localhost:5173
Ensure Redis is Running (Terminal 3)
bashredis-server

ğŸ“¡ API Documentation
Authentication Endpoints
EndpointMethodDescriptionAuth Required/api/auth/register/POSTRegister new userNo/api/auth/login/POSTLogin userNo/api/auth/logout/POSTLogout userYes
Register Request
json{
  "username": "testuser",
  "email": "test@example.com",
  "password": "SecurePass@123",
  "confirm_password": "SecurePass@123"
}
Login Request
json{
  "email": "test@example.com",
  "password": "SecurePass@123"
}
Logout Request
json{
  "refresh": "<refresh_token>"
}
Room Endpoints
EndpointMethodDescriptionAuth Required/api/rooms/create/POSTCreate new roomYes/api/rooms/list/GETList active roomsYes/api/rooms/<uuid:id>/GETGet room detailsYes/api/rooms/<uuid:id>/join/POSTJoin a roomYes
Create Room Request
json{
  "title": "Team Meeting",
  "max_participants": 10
}
WebSocket Endpoint
URL: ws://localhost:8000/ws/room/<room_id>/
Message Types:

offer - WebRTC offer
answer - WebRTC answer
ice_candidate - ICE candidate
user_joined - New user notification
user_left - User disconnect notification
participant_update - Participant count update


ğŸ§ª Testing
Run Backend Tests
bashcd backend
pytest

# With coverage
pytest --cov=. --cov-report=html

# Run specific test file
pytest users/tests/test_auth_complete.py

# Run with verbose output
pytest -v
Test Coverage

âœ… User registration (success, validation errors, duplicate email)
âœ… User login (success, wrong credentials)
âœ… User logout with token blacklisting
âœ… Room creation (authorized and unauthorized)
âœ… Room listing and joining
âœ… Full integration flow (register â†’ login â†’ create room â†’ logout)


ğŸ“ Project Structure
chatconnect/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ config/                 # Django project settings
â”‚   â”‚   â”œâ”€â”€ settings.py
â”‚   â”‚   â”œâ”€â”€ urls.py
â”‚   â”‚   â”œâ”€â”€ asgi.py            # ASGI config for Channels
â”‚   â”‚   â””â”€â”€ wsgi.py
â”‚   â”‚
â”‚   â”œâ”€â”€ users/                  # Authentication app
â”‚   â”‚   â”œâ”€â”€ models.py          # Custom User model
â”‚   â”‚   â”œâ”€â”€ serializers.py     # User serializers
â”‚   â”‚   â”œâ”€â”€ views.py           # Register/Login/Logout views
â”‚   â”‚   â”œâ”€â”€ urls.py
â”‚   â”‚   â””â”€â”€ tests/
â”‚   â”‚       â””â”€â”€ test_auth_complete.py
â”‚   â”‚
â”‚   â”œâ”€â”€ rooms/                  # Room management app
â”‚   â”‚   â”œâ”€â”€ models.py          # Room model
â”‚   â”‚   â”œâ”€â”€ serializers.py     # Room serializers
â”‚   â”‚   â”œâ”€â”€ views.py           # Room CRUD operations
â”‚   â”‚   â”œâ”€â”€ consumers.py       # WebSocket consumer
â”‚   â”‚   â”œâ”€â”€ routing.py         # WebSocket routing
â”‚   â”‚   â”œâ”€â”€ urls.py
â”‚   â”‚   â””â”€â”€ tests/
â”‚   â”‚       â””â”€â”€ test_rooms.py
â”‚   â”‚
â”‚   â”œâ”€â”€ tests/
â”‚   â”‚   â””â”€â”€ test_integration.py  # Integration tests
â”‚   â”‚
â”‚   â”œâ”€â”€ manage.py
â”‚   â”œâ”€â”€ requirements.txt
â”‚   â”œâ”€â”€ pytest.ini
â”‚   â””â”€â”€ db.sqlite3
â”‚
â””â”€â”€ frontend/
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ app/
    â”‚   â”‚   â”œâ”€â”€ store.js       # Redux store
    â”‚   â”‚   â””â”€â”€ axios.js       # Axios config with interceptors
    â”‚   â”‚
    â”‚   â”œâ”€â”€ components/
    â”‚   â”‚   â””â”€â”€ Navbar.jsx
    â”‚   â”‚
    â”‚   â”œâ”€â”€ features/
    â”‚   â”‚   â”œâ”€â”€ auth/
    â”‚   â”‚   â”‚   â”œâ”€â”€ authSlice.js
    â”‚   â”‚   â”‚   â”œâ”€â”€ Login.jsx
    â”‚   â”‚   â”‚   â””â”€â”€ Signup.jsx
    â”‚   â”‚   â”‚
    â”‚   â”‚   â””â”€â”€ rooms/
    â”‚   â”‚       â”œâ”€â”€ roomSlice.js
    â”‚   â”‚       â”œâ”€â”€ CreateRoom.jsx
    â”‚   â”‚       â”œâ”€â”€ JoinRoom.jsx
    â”‚   â”‚       â””â”€â”€ VideoRoom.jsx
    â”‚   â”‚
    â”‚   â”œâ”€â”€ pages/
    â”‚   â”‚   â””â”€â”€ Home.jsx
    â”‚   â”‚
    â”‚   â”œâ”€â”€ App.jsx
    â”‚   â”œâ”€â”€ main.jsx
    â”‚   â””â”€â”€ index.css
    â”‚
    â”œâ”€â”€ package.json
    â”œâ”€â”€ vite.config.js
    â””â”€â”€ .env

ğŸ”§ Environment Variables
Backend (.env - optional)
envSECRET_KEY=your-secret-key
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1
DATABASE_URL=sqlite:///db.sqlite3
Frontend (.env)
envVITE_API_URL=http://localhost:8000/api
VITE_WS_URL=ws://localhost:8000

ğŸ› Troubleshooting
WebSocket Connection Failed
Solution: Ensure Redis is running
bashredis-cli ping  # Should return "PONG"
"CSRF token missing or incorrect"
Solution: Check CORS settings in settings.py
pythonCORS_ALLOWED_ORIGINS = [
    "http://localhost:5173",
    "http://127.0.0.1:5173",
]
Video not appearing in VideoRoom
Solution:

Check browser console for WebRTC errors
Ensure HTTPS or localhost (camera permissions)
Verify STUN server connectivity

JWT Token Expired
Solution: Token auto-refreshes via Axios interceptor. Check axios.js configuration.

ğŸ“ Notes & Assumptions

SQLite is used for development. For production, migrate to PostgreSQL.
STUN servers used are public (Google). For production, consider TURN servers.
Redis is required for Django Channels layer.
Token expiry: Access token expires in 60 minutes, refresh token in 7 days.
Room cleanup: Inactive rooms are not auto-deleted (implement background task if needed).


ğŸ‘¨â€ğŸ’» Author
Aleena Mathew


ğŸ“„ License
This project is created for a machine test evaluation.

ğŸ™ Acknowledgments

Django REST Framework for robust API development
Django Channels for WebSocket support
WebRTC for peer-to-peer video communication
React and Redux Toolkit for frontend state management